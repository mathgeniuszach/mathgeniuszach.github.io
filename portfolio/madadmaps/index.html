<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="author" content="Zach K"><meta name="description" content="A live covid bed availablility project I worked on as humanitarian work."><title>Zach&#039;s Site - Madad Maps</title><link rel="icon shortcut" href="/favicon.ico"><link rel="stylesheet" href="/index.css"><script src="/index.js"></script></head><body><header><div><link rel="preload" as="image" href="/i/button_hovered-gold.png"><link rel="prefetch" href="/i/button_hovered-gold.png"><link rel="preload" as="image" href="/i/button-gold.png"><link rel="prefetch" href="/i/button-gold.png"><link rel="preload" as="image" href="/i/button_hovered.png"><link rel="prefetch" href="/i/button_hovered.png"><link rel="preload" as="image" href="/i/button_pressed.png"><link rel="prefetch" href="/i/button_pressed.png"><link rel="preload" as="image" href="/i/button.png"><link rel="prefetch" href="/i/button.png"><link rel="preload" as="image" href="/i/home_hovered.png"><link rel="prefetch" href="/i/home_hovered.png"><link rel="preload" as="image" href="/i/home_pressed.png"><link rel="prefetch" href="/i/home_pressed.png"><link rel="preload" as="image" href="/i/home.png"><link rel="prefetch" href="/i/home.png"><link rel="preload" as="image" href="/i/button_pressed-gold.png"><link rel="prefetch" href="/i/button_pressed-gold.png"><link rel="preload" as="image" href="/i/background.svg"><link rel="prefetch" href="/i/background.svg"><link rel="preload" as="image" href="/i/background-dark.svg"><link rel="prefetch" href="/i/background-dark.svg"></div><div class="focused-only"><button onclick="(document.querySelector(&quot;.navskip&quot;)??document.querySelector(&quot;#navskip&quot;)).focus()">Skip Nav</button></div><div id="header-pages"><a href="/" id="home"></a><div><a href="javascript:void(0);"><span>Projects</span></a><div><a href="/apps/origin-creator/">The Origin Creator</a> <a href="/apps/fpclib/">fpclib Documentation</a><hr><a href="/portfolio/minecraft">Minecraft Work</a> <a href="/portfolio/flashpoint/">Flashpoint Work</a> <a href="/portfolio/linux/">Linux Stuff</a><hr> <a href="/apps/">All</a></div></div><div><a href="javascript:void(0);"><span>Help</span></a><div><a href="/apps/origin-creator/help">Origins - Flow Help</a><hr><a href="/response/dont-ask-to-ask">Don't Ask to Ask</a> <a href="/response/be-direct">Be Direct</a> <a href="/response/be-specific">Be Specific</a> <a href="/response/be-patient">Be Patient</a> <a href="/response/deep-end-teaching">Deep End Teaching</a><hr><a href="/response/what-is-regex">What is Regex?</a> <a href="/apps/origin-creator/help/#json-format">JSON Format</a> <a href="/apps/origin-creator/help/#file-extensions">Show File Extensions</a><hr><a href="/apps/origin-creator/help/#dot-minecraft">.minecraft Folder</a> <a href="/apps/origin-creator/help/#logs">Minecraft - Logs</a> <a href="/response/oc-cyan-text">Origins - Click Links</a> <a href="/apps/origin-creator/help/#pehkui-power">Origins - Pehkui</a> <a href="/response/oc-research">Origins - Do Research</a></div></div></div><div class="header-social"><a href="//discord.gg/pBFqEcXvW5" title="Discord"><i class="bi bi-discord"></i></a> <a href="//github.com/xMGZx" title="GitHub"><i class="bi bi-github"></i></a> <a href="//www.youtube.com/c/mathgeniuszach" title="YouTube"><i class="bi bi-youtube"></i></a> <a href="//www.curseforge.com/members/mathgeniuszach/projects" title="CurseForge"><svg xml:space="preserve" width="24" height="24"><path fill="currentColor" d="M5.459 0A5.447 5.447 0 0 0 0 5.459v13.08a5.447 5.447 0 0 0 5.459 5.459h13.08a5.447 5.447 0 0 0 5.459-5.459V5.459A5.447 5.447 0 0 0 18.539 0H5.459zm10.25 2.555c.112 0 .224.003.338.012-1.042.13-2.215.782-2.605 1.824-.39 1.042-.13 2.343.65 3.385.521.78 1.173 1.43 1.434 2.473-.39-.13-.651 0-.912.26-.26.26-.39.78-.26 1.172.13.26.39.521.65.521h.391c.391-.13.652-.65.522-1.041.26.26.39.91.26 1.301 0 .39-.26.783-.39 1.043-.131.26-.392.52-.522.781s-.26.52-.26.78-.023.665.13.912c.498.796 1.563 0 1.823-.65.39-.782.26-1.694-.26-2.476 0 0 .91.521 1.561 2.344.52 1.562-.388 3.384-1.43 4.035-1.042.651-2.215.651-2.996 1.172-.52.26-.781 1.043-.781 1.043-.521-1.172-1.172-1.564-1.953-1.824-.781-.26-2.213-.128-4.166-1.82-1.026-1.094-1.604-2.545-1.301-3.906.287-1.288 1.448-2.103 2.344-2.475 0 0-.912 1.304 0 2.605.52.781 1.56 1.17 2.473.649.39-.26.65-.78.781-1.17.26-.912.26-1.824-.522-2.475-1.172-1.042-1.432-2.473-.65-3.385 0 0 .257 1.145 1.434 1.066.78-.052.75-.257.56-.573-.211-.353-1.861-2.837.612-4.66 0 0 1.373-.916 3.047-.923z"/></svg> </a></div><img id="logo" src="/i/logo-large.gif" alt="MGZ"></header><aside><h6>Nav</h6><a href="#introduction">Introduction</a> <a href="#scraping-and-inconsistencies">Scraping and Inconsistencies</a> <a href="#workflow">Workflow</a> <a href="#where-s-the-project-now-">Where's the Project Now?</a></aside><section><h1 id="madad-maps">Madad Maps</h1> <h2 id="introduction">Introduction</h2> <p><a href="https://madadmaps.com/">Madad Maps</a> is a live hospital bed availability project I worked on as humanitarian work during 2021 and the pandemic with Dr. Rajesh Anumolu and Aaron Delory. Its purpose was to serve as an assistive tracker for available hospital beds (regular, ICU, and Oxygen) all over India as part of the larger <a href="https://projectmadad.com/">Project Madad</a>, an international effort based out of United States and South India.</p> <p>My role in the project was as a data scientist, using JavaScript-based firebase functions to colliate results from over 40 different sites of vastly different formats (html, pdf, xlsx, etc.). Javascript libraries <a href="https://www.npmjs.com/package/axios">axios</a> (HTTP client), <a href="https://www.npmjs.com/package/cheerio">cheerio</a> (HTML parser), <a href="https://www.npmjs.com/package/pdf2json">pdf2json</a> (pdf reader), and <a href="https://www.npmjs.com/package/xlsx">xlsx</a> (Excel sheet reader) were very helpful in completing this task. I would&#39;ve preferred using Python&#39;s <a href="https://pypi.org/project/requests/">requests</a> (HTTP client; though <a href="https://pypi.org/project/httpx/">httpx</a> would work better now) and <a href="https://pypi.org/project/beautifulsoup4/">BeautifulSoup4</a> (HTML parser) libraries as I was more familiar with them due to my <a href="/portfolio/flashpoint">work with Flashpoint</a>, but JavaScript worked better for this usecase.</p> <p>Here&#39;s a picture of the site during development:</p> <p><img src="/i/madadmaps.png" alt="Madad Maps page"></p> <h2 id="scraping-and-inconsistencies">Scraping and Inconsistencies</h2> <p>It was nearly impossible to find sources for every part of India, but we did the best we could scouring for sources. We had a spreadsheet outlining which locations we had data for and which we did not, and we were able to cover most of the country this way. It also didn&#39;t help that a lot of our sources (more than likely being the only sources we could find for a given area) were often ill-formatted, contained entry errors that needed sorting out, and rarely ever provided geolocation data. </p> <p>I feel like a senile old man thinking back to all the times I was parsing data only to learn of another potential way data entry could be messed up and needed even more sanitation and validation. To give you a clue of just a small hint of the frustrations involved, phone numbers sometimes would be split by dashes, sometimes by spaces and parentheses, sometimes by newlines, sometimes by commas, and sometimes they&#39;re would just be two numbers smashed right next to each other. Perhaps it was my fault for assuming the data was sanitized before coming back in the first place, but lesson learned. Care had to be taken to ensure minimal sanitation errors, and a disclaimer had to be made for any patient to &quot;call the hospital to confirm the information&quot; as &quot;data here is variable to change&quot;. As is always the case with data science, sometimes finding a reliable source of data is the most difficult part of the process.</p> <p>After sanitizing data to the absolute best of my ability, I sent the title to Google&#39;s Places API and cached the result in a firebase database (to save on API calls). Initially we used Places API, but due to budget constraints we switched to the Geolocation API later on. Even Google couldn&#39;t find locations all the time using just the titles of hospitals we had, so we often had to send invalid data to the &quot;magical&quot; NULL island and hid markers that were located there.</p> <p>I also didn&#39;t want to hammer our only sources of data, so I had to minimize web requests for data by only querying maybe a single a site or two of the 40 we had every 5 minutes. The process was on a round-robin cycle and worked well, until inevitably sites changed their format or went down entirely.</p> <h2 id="workflow">Workflow</h2> <p>I worked pretty much exclusively as a back-end developer for this project, while Aaron worked on the front-end (using Flutter, which was much more restricted than other JavaScript interfaces imo) and Rajesh handled public relations and funding (for the API and hosting services). Our workflow was pretty distinct and individualized except when it came to the database, which required a lot of communication to ensure that both Aaron and I were on the same page.</p> <p>My workflow was quite sparatic, working on things here and there, as new sources were found and old ones broke. I had college classes to balance as well, but I typically managed to complete all my work in-class so I didn&#39;t need to worry about balancing them as much.</p> <h2 id="where-s-the-project-now-">Where&#39;s the Project Now?</h2> <p>Initially after the project reached maturity there was discussion of getting the government to pick up the project (to provide a permanent, consistent, and reliable source of hospital bed availability), but talks have effectively slowed to a halt. The final work I did on the project was to swap out our tech stack from using firebase to instead rely on MongoDB in hopes of making the adoption easier, despite how hard it was to do so. I haven&#39;t worked on the project for about a year and a half now, and unfortunately with many things in data science, sources don&#39;t always last forever. Nearly all sources shut down after pandemic restrictions were lifted, even though the data isn&#39;t just useful in relation to Covid. The site has been left up as a fraction of what it once was.</p> <p>Regardless, I was happy to help provide the assistance I could during this time to collect and organize data that could assist so many people in need.</p></section><footer>Created by Zach K &nbsp; Theme:&nbsp; <select id="themer" onchange="changeTheme(this.value)"><option value="system">system</option><option value="light">light</option><option value="dark">dark</option></select><script>(()=>{let e=document.getElementById("themer");window.changeTheme=t=>{e.value=t,localStorage.setItem("theme",t),root=document.querySelector("html"),"light"==t?root.setAttribute("theme","light"):"dark"==t?root.setAttribute("theme","dark"):root.removeAttribute("theme"),window.onthemechange&&window.onthemechange()},changeTheme(localStorage.getItem("theme")??"system"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{window.onthemechange&&window.onthemechange()})})();</script></footer></body></html>