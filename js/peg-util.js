// This is a minified version of these browserified libraries, licenses can be found there.
// https://github.com/rse/pegjs-util
// https://github.com/rse/asty

!function(){return function e(n,t,r){function o(a,u){if(!t[a]){if(!n[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){return o(n[a][1][e]||e)},c,c.exports,e,n,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}}()({1:[function(e,n,t){window.asty=e("asty"),window.pegutil=e("pegjs-util")},{asty:2,"pegjs-util":3}],2:[function(e,n,t){(function(r){(function(){!function(e){if("object"==typeof t&&void 0!==n)n.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).ASTY=e()}}(function(){return function(){return function n(t,r,o){function i(u,f){if(!r[u]){if(!t[u]){var l="function"==typeof e&&e;if(!f&&l)return l(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[u]={exports:{}};t[u][0].call(s.exports,function(e){return i(t[u][1][e]||e)},s,s.exports,n,t,r,o)}return r[u].exports}for(var a="function"==typeof e&&e,u=0;u<o.length;u++)i(o[u]);return i}}()({1:[function(e,n,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,n,t){n&&o(e.prototype,n),t&&o(e,t)}(e,[{key:"init",value:function(e,n,t,o){if(arguments.length<2)throw new Error("init: invalid number of arguments");if(this.ctx=e,this.ASTy=!0,this.T=n,this.L={L:0,C:0,O:0},this.A={},this.C=[],this.P=null,"object"===r(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&this.set(i,t[i]);return"object"===r(o)&&o instanceof Array&&this.add(o),this}},{key:"create",value:function(e,n,t){return this.ctx.create(e,n,t)}},{key:"type",value:function(e){if(0===arguments.length)return this.T;if(1===arguments.length)return this.T=e,this;throw new Error("type: invalid number of arguments")}},{key:"pos",value:function(e,n,t){if(0===arguments.length)return{line:this.L.L,column:this.L.C,offset:this.L.O};if(arguments.length<=3)return this.L.L=e||0,this.L.C=n||0,this.L.O=t||0,this;throw new Error("pos: invalid number of arguments")}},{key:"set",value:function(){for(var e=this,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];if(1===t.length&&"object"===r(t[0]))Object.keys(t[0]).forEach(function(n){void 0!==t[0][n]?e.A[n]=t[0][n]:delete e.A[n]});else{if(2!==t.length)throw new Error("set: invalid number of arguments");void 0!==t[1]?this.A[t[0]]=t[1]:delete this.A[t[0]]}return this}},{key:"unset",value:function(){for(var e=this,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];if(1===t.length&&"object"===r(t[0])&&t[0]instanceof Array)t[0].forEach(function(n){delete e.A[n]});else{if(1!==t.length)throw new Error("unset: invalid number of arguments");delete this.A[t[0]]}return this}},{key:"get",value:function(){for(var e=this,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];if(1!==t.length)throw new Error("get: invalid number of arguments");if("object"===r(t[0])&&t[0]instanceof Array)return t[0].map(function(n){if("string"!=typeof n)throw new Error("get: invalid key argument");return e.A[n]});var i=t[0];if("string"!=typeof i)throw new Error("get: invalid key argument");return this.A[i]}},{key:"attrs",value:function(){return Object.keys(this.A)}},{key:"nth",value:function(){if(null===this.P)return 1;var e=this.P.C.indexOf(this);if(e<0)throw new Error("nth: internal error -- node not in childs of its parent");return e}},{key:"ins",value:function(e){for(var n=this,t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];if(0===o.length)throw new Error("ins: invalid number of arguments");if(e<0&&(e=this.C.length+1-e),!(e>=0&&e<=this.C.length))throw new Error("ins: invalid position");var a=function(t){if(!n.ctx.isA(t))throw new Error("ins: invalid AST node argument");n.C.splice(e++,0,t),t.P=n};return o.forEach(function(e){"object"===r(e)&&e instanceof Array?e.forEach(function(e){a(e)}):null!==e&&a(e)}),this}},{key:"add",value:function(){for(var e=this,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];if(0===t.length)throw new Error("add: invalid number of arguments");var i=function(n){if(!e.ctx.isA(n))throw new Error("add: invalid AST node argument");e.C.push(n),n.P=e};return t.forEach(function(e){"object"===r(e)&&e instanceof Array?e.forEach(function(e){i(e)}):null!==e&&i(e)}),this}},{key:"del",value:function(){for(var e=this,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];if(0===t.length)throw new Error("del: invalid number of arguments");return t.forEach(function(n){if(!e.ctx.isA(n))throw new Error("del: invalid AST node argument");for(var t=!1,r=0;r<e.C.length;r++)if(e.C[r]===n){e.C.splice(r,1),n.P=null,t=!0;break}if(!t)throw new Error("del: AST node not found in childs")}),this}},{key:"childs",value:function(){if(arguments.length>2)throw new Error("childs: invalid number of arguments");if(2===arguments.length&&"number"==typeof(arguments.length<=0?void 0:arguments[0])&&"number"==typeof(arguments.length<=1?void 0:arguments[1]))return this.C.slice(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]);if(1===arguments.length&&"number"==typeof(arguments.length<=0?void 0:arguments[0]))return this.C.slice(arguments.length<=0?void 0:arguments[0]);if(0===arguments.length)return this.C;throw new Error("childs: invalid type of arguments")}},{key:"child",value:function(e){if("number"!=typeof e)throw new Error("child: invalid argument");return e<this.C.length?this.C[e]:null}},{key:"parent",value:function(){return this.P}},{key:"serialize",value:function(){return this.ctx.__serialize(this)}}]),e}();t.default=i},{}],2:[function(e,n,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={mid:{unicode:String.fromCharCode(9500),ascii:"+"},last:{unicode:String.fromCharCode(9492),ascii:"+"},down:{unicode:String.fromCharCode(9474),ascii:"|"},left:{unicode:String.fromCharCode(9472),ascii:"-"}},a=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,n,t){n&&o(e.prototype,n),t&&o(e,t)}(e,[{key:"dump",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,n){return n},t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o="",a=this;return this.walk(function(u,f){if(!(f>e)){if(f>0){var l=function(e){var n=0,t=0;return null!==e.P&&(n=e.P.C.indexOf(e),t=e.P.C.length-1),{nth:n,max:t}},c=l(u),s=c.nth,d=c.max,h=" ";h=t?"".concat(i.left.unicode).concat(i.left.unicode).concat(h):"".concat(i.left.ascii).concat(i.left.ascii).concat(h),h=s<d?"".concat(t?i.mid.unicode:i.mid.ascii).concat(h):"".concat(t?i.last.unicode:i.last.ascii).concat(h);for(var y=u.P;null!==y&&y!==a;y=y.P)if(null!==y.P){var p=l(y);h=p.nth<p.max?"".concat(t?i.down.unicode:i.down.ascii,"   ").concat(h):"    ".concat(h)}o+=n("tree",h)}o+=n("type",u.T)+" ";var v=Object.keys(u.A).filter(function(e){return!e.match(/^__/)});if(v.length>0){o+=n("parenthesis","(");var g=!0;v.forEach(function(e){g?g=!1:o+=n("comma",",")+" ",o+=n("key",e)+n("colon",":")+" ";var t=u.A[e];switch(r(t)){case"boolean":case"number":o+=n("value",t.toString());break;case"string":var i=function(e){return e.charCodeAt(0).toString(16).toUpperCase()};o+=n("value",'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+i(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+i(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+i(e)})+'"');break;case"object":t instanceof RegExp?o+=n("value","/"+t.source+"/"):o+=n("value",JSON.stringify(t));break;default:o+=n("value",JSON.stringify(t))}}),o+=n("parenthesis",")")+" "}o+=n("position",n("bracket","[")+n("line",u.L.L)+n("slash",",")+n("column",u.L.C)+n("bracket","]")),o+="\n"}},"downward"),o}}]),e}();t.default=a},{}],3:[function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,n,t){n&&r(e.prototype,n),t&&r(e,t)}(e,[{key:"merge",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null===e)return this;if(!this.ctx.isA(e))throw new Error("merge: invalid AST node argument");if(t){var o=e.pos();this.pos(o.line,o.column,o.offset)}e.attrs().forEach(function(t){var o=void 0!==r[t]?r[t]:t;null!==o&&n.set(o,e.get(t))}),e.childs().forEach(function(t){e.del(t),n.add(t)});var i=e.parent();return null!==i&&i.del(e),this}}]),e}();t.default=o},{}],4:[function(e,n,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,n,t){n&&o(e.prototype,n),t&&o(e,t)}(e,null,[{key:"serialize",value:function(e,n){if(!e.isA(n))throw new Error("serialize: not an ASTy node");return JSON.stringify({ASTy:function e(n){var t={T:n.T,L:{L:n.L.L,C:n.L.C,O:n.L.O}},o=Object.keys(n.A);return o.length>0&&(t.A={},o.forEach(function(e){var o=n.A[e];switch(r(o)){case"boolean":case"number":case"string":t.A[e]=o;break;default:t.A[e]=JSON.parse(JSON.stringify(o))}})),n.C.length>0&&(t.C=n.C.map(function(n){return e(n)})),t}(n)})}},{key:"unserialize",value:function(e,n){var t=JSON.parse(n);if("object"!==r(t)||"object"!==r(t.ASTy))throw new Error("unserialize: not an ASTy JSON export");return function n(t){var o=e.create(t.T);return o.pos(t.L.L,t.L.C,t.L.O),"object"===r(t.A)&&Object.keys(t.A).forEach(function(e){var n=t.A[e];switch(r(n)){case"boolean":case"number":case"string":o.set(e,n);break;default:o.set(e,JSON.parse(JSON.stringify(n)))}}),"object"===r(t.C)&&t.C instanceof Array&&o.add(t.C.map(function(e){return n(e)})),o}(t.ASTy)}}]),e}();t.default=i},{}],5:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={major:1,minor:8,micro:14,date:20210107};t.default=r},{}],6:[function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}return function(e,n,t){n&&r(e.prototype,n),t&&r(e,t)}(e,[{key:"walk",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"downward";return function t(r,o,i){"downward"!==n&&"both"!==n||e(r,o,i,"downward"),r.C.forEach(function(e){t(e,o+1,r)}),"upward"!==n&&"both"!==n||e(r,o,i,"upward")}(this,0,null),this}}]),e}();t.default=o},{}],7:[function(e,n,t){"use strict";var r=l(e("./asty-base.js")),o=l(e("./asty-merge.js")),i=l(e("./asty-walk.js")),a=l(e("./asty-dump.js")),u=l(e("./asty-serialize.js")),f=l(e("./asty-version.js"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){var n=this;return s(this,e),this.ASTYNode=function e(){s(this,e)},[[r.default,"init","create","type","pos","set","unset","get","attrs","nth","ins","add","del","childs","child","parent","serialize"],[o.default,"merge"],[i.default,"walk"],[a.default,"dump"]].forEach(function(e){var t=e[0].prototype;e.slice(1).forEach(function(e){n.ASTYNode.prototype[e]=t[e]})}),this}return function(e,n,t){n&&d(e.prototype,n),t&&d(e,t)}(e,[{key:"version",value:function(){return f.default}},{key:"extend",value:function(e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.ASTYNode.prototype[n]=e[n]);return this}},{key:"create",value:function(e,n,t){return(new this.ASTYNode).init(this,e,n,t)}},{key:"isA",value:function(e){return"object"===c(e)&&e instanceof this.ASTYNode&&"boolean"==typeof e.ASTy&&!0===e.ASTy}},{key:"__serialize",value:function(n){return e.serialize(n)}}],[{key:"serialize",value:function(e){return u.default.serialize(e.ctx,e)}},{key:"unserialize",value:function(e){return u.default.unserialize(new this,e)}}]),e}();n.exports=h},{"./asty-base.js":1,"./asty-dump.js":2,"./asty-merge.js":3,"./asty-serialize.js":4,"./asty-version.js":5,"./asty-walk.js":6}]},{},[1,2,3,4,5,6,7])(7)})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n,t){(function(e){(function(){var t,r;t=void 0!==e?e:"undefined"!=typeof window?window:this,r=function(){var e={makeAST:function(e,n){return function(){return n.util.__makeAST.call(null,e().start.line,e().start.column,e().start.offset,arguments)}},makeUnroll:function(e,n){return function(t,r,o){if("object"!=typeof r||!(r instanceof Array))throw new n.util.__SyntaxError("unroll: invalid list argument for unrolling",typeof r,"Array",e());if(void 0!==o){"number"==typeof o&&(o=[o]);var i=[];null!==t&&i.push(t);for(var a=0;a<r.length;a++)for(var u=0;u<o.length;u++)i.push(r[a][o[u]]);return i}return null!==t&&r.unshift(t),r}}},n=function(e,n){var t=e.length,r=n-20;r<0&&(r=0);var o=n+20;o>t&&(o=t);var i=function(e){return e.charCodeAt(0).toString(16).toUpperCase()},a=function(e,n,t){return e.substr(n,t).replace(/\\/g,"\\\\").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+i(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+i(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+i(e)})};return{prolog:a(e,r,n-r),token:a(e,n,1),epilog:a(e,n+1,o-(n+1))}};return e.parse=function(t,r,o){if("object"!=typeof t)throw new Error("invalid parser object (not an object)");if("function"!=typeof t.parse)throw new Error('invalid parser object (no "parse" function)');if("string"!=typeof r)throw new Error("invalid input text (not a string)");if(void 0!==o&&"object"!=typeof o)throw new Error("invalid options (not an object)");void 0===o&&(o={});var i={ast:null,error:null};try{var a;a="function"==typeof o.makeAST?o.makeAST:function(e,n){return{line:e().start.line,column:e().start.column,offset:e().start.offset,args:n}},o.util={makeUnroll:e.makeUnroll,makeAST:e.makeAST,__makeAST:a,__SyntaxError:t.SyntaxError},i.ast=t.parse(r,o),i.error=null}catch(e){if(i.ast=null,e instanceof t.SyntaxError){var u=function(e,n){return void 0!==e?e:n};i.error={line:u(e.location.start.line,0),column:u(e.location.start.column,0),message:e.message,found:u(e.found,""),expected:u(e.expected,""),location:n(r,u(e.location.start.offset,0))}}else i.error={line:0,column:0,message:e.message,found:"",expected:"",location:n("",0)}}return i},e.errorMessage=function(e,n){for(var t=e.location,r="line "+e.line+" (column "+e.column+"): ",o="",i=0;i<r.length+t.prolog.length;i++)o+="-";return r+t.prolog+t.token+t.epilog+"\n"+o+"^\n"+e.message+(n?"":"\n")},e},"object"==typeof n&&"object"==typeof n.exports?n.exports=r():"function"==typeof define&&void 0!==define.amd?define("PEGUtil",function(){return r()}):t.PEGUtil=r()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);