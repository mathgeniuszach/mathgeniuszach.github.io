<p>Waiting for player...</p><table><tbody></tbody></table><button hidden>Play Again</button><style>body{text-align:center;flex-direction:column;justify-content:center;align-items:center;display:flex}table button{height:50px;width:50px;font-size:2em}</style><script>const $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),p=$("p");let num=0;const table=$("table > tbody"),th=[];for(let t=0;t<6;t++){th.push("<tr>");for(let t=0;t<6;t++)th.push("<td><button></button></td>");th.push("</tr>")}table.innerHTML=th.join("");for(let t=0;t<6;++t)for(let e=0;e<6;++e){const n=table.children[t].children[e].firstElementChild;n.disabled=!0,n.onclick=()=>{p.textContent="Waiting for opponent...";for(let t=0;t<6;++t)for(let e=0;e<6;++e)table.children[t].children[e].firstElementChild.disabled=!0;send("turn",[t,e])}}function has_neighbor(t,e,n){for(let o=-1;o<=1;o++)for(let r=-1;r<=1;r++){if(0==o&&0==r)continue;if(e+o<0||n+r<0)continue;if(e+o>=6||n+r>=6)continue;let l=t[e+o][n+r];if(l&&l[0]==num)return!0}return!1}function cmd_player(t){num=t}function cmd_ready(){send("ready",{})}function cmd_turn(t,e){p.textContent=e==num?"It's your turn! You are "+(1==num?"red":"blue"):"Waiting for opponent...";for(let n=0;n<6;++n)for(let o=0;o<6;++o){const r=table.children[n].children[o].firstElementChild;let l=t[n][o];r.innerHTML=l?`<span style="color:${1==l[0]?"red":"blue"};">${parseInt(l[1])}</span>`:"",r.disabled=e!=num||l||!has_neighbor(t,n,o)}}function cmd_end(t,e){p.textContent=0==e?"It's a tie!":e==num?"You win!":"You lose!";for(let e=0;e<6;++e)for(let n=0;n<6;++n){const o=table.children[e].children[n].firstElementChild;let r=t[e][n];o.innerHTML=r?`<span style="color:${1==r[0]?"red":"blue"};">${parseInt(r[1])}</span>`:"",o.disabled=!0}1==num&&($("body > button").hidden=!1)}$("body > button").onclick=t=>{t.target.hidden=!0,send("ready",{})},ready=!0;</script>