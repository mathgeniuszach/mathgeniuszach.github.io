<p>Waiting for player...</p><table><tr><td><button></button></td><td><button></button></td><td><button></button></td></tr><tr><td><button></button></td><td><button></button></td><td><button></button></td></tr><tr><td><button></button></td><td><button></button></td><td><button></button></td></tr></table><button hidden>Play Again</button><style>body{text-align:center;flex-direction:column;justify-content:center;align-items:center;display:flex}table button{color:#000;height:100px;width:100px;font-size:4em}</style><script>const $=document.querySelector.bind(document),$$=document.querySelectorAll.bind(document),p=$("p");let num=0,x=0;const table=$("table > tbody");for(let t=0;t<3;++t)for(let e=0;e<3;++e){const n=table.children[t].children[e].firstElementChild;n.disabled=!0,n.onclick=()=>{p.textContent="Waiting for opponent...";for(let t=0;t<3;++t)for(let e=0;e<3;++e)table.children[t].children[e].firstElementChild.disabled=!0;send("turn",[t,e])}}function cmd_player(t){num=t}function cmd_ready(){send("ready",{})}function cmd_x(t){x=t}function cmd_turn(t,e){p.textContent=e==num?"It's your turn! You are "+(num==x?"X":"O"):"Waiting for opponent...";for(let n=0;n<3;++n)for(let o=0;o<3;++o){const d=table.children[n].children[o].firstElementChild;d.textContent=t[n][o]?t[n][o]==x?"X":"O":"",d.disabled=e!=num||0!=t[n][o]}}function cmd_end(t,e){p.textContent=0==e?"It's a tie!":e==num?"You win!":"You lose!";for(let e=0;e<3;++e)for(let n=0;n<3;++n){const o=table.children[e].children[n].firstElementChild;o.textContent=t[e][n]?t[e][n]==x?"X":"O":"",o.disabled=!0}1==num&&($("body > button").hidden=!1)}$("body > button").onclick=t=>{t.target.hidden=!0,send("ready",{})},ready=!0;</script>